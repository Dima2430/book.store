import"./assets/modulepreload-polyfill-3cfb730f.js";import{a as E,i as S}from"./assets/vendor-174ee90c.js";const B=document.querySelector(".best-books-gallery"),q=E.create({baseURL:"https://books-backend.p.goit.global/books"});async function g(){try{return(await q.get("/top-books")).data}catch{S.error({position:"topRight",message:"Sorry, no books were found. Please try again."})}}g();function w({list_name:e,books:o}){return`
    <li class="book-category-item">
      <p class="book-category">${e}</p>
      <ul class="top-books">
        ${o.map(t=>`
              <li class="book-card" data-id="${t._id}">
              <div class="book-card-hover">
                <img class="book-cover" src="${t.book_image}" alt="${t.title}"/>
                <div class="book-descr">
                <h2 class="book-name">${t.title}</h2>
                <h3 class="book-author">${t.author}</h3>
                </div>
                <div class="view-more">
                <p class="view-more-text">Click for view more information and buy it</p>
                </div>
                </div>
              </li>
            `).join("")}
      </ul>
      <button class="book-card-btn" type="button" data-category="${e}">see more</button>
    </li>
  `}async function M(){const e=await g();let o="";for(let s of e)o+=w(s);const n=` <h1 class="collection-title">Best Sellers <span>Books</span></h1>${`<ul class="top-books-all">${o}</ul>`}`;B.innerHTML=n}M();document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("openModalBtn"),o=document.getElementById("closeModalBtn"),t=document.getElementById("myModal");e.addEventListener("click",function(){t.style.display="block",document.body.style.overflow="hidden"}),o.addEventListener("click",function(){t.style.display="none",document.body.style.overflow="auto"}),window.addEventListener("click",function(n){n.target===t&&(t.style.display="none",document.body.style.overflow="auto")}),document.addEventListener("keydown",function(n){n.key==="Escape"&&t.style.display==="block"&&(t.style.display="none",document.body.style.overflow="auto")})});document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("shoppingListBtn"),o=document.getElementById("notification"),t=document.querySelector(".modal-content");e.addEventListener("click",function(){n()});function n(){e.textContent==="Add to shopping list"?(s(),d("Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”."),i()):(a(),l(),L())}function s(){alert("Додано до локального сховища!"),e.textContent="Remove from the shopping list"}function a(){alert("Видалено з локального сховища!"),e.textContent="Add to shopping list"}function d(v){o.innerHTML=`<span>${v}</span>`,o.style.display="block"}function l(){o.style.display="none"}function i(){t.classList.add("expanded")}function L(){t.classList.remove("expanded")}});document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("openModalBtn"),o=document.getElementById("closeModalBtn"),t=document.getElementById("myModal");e=k("643282b1e85766588626a0c2"),e.addEventListener("click",function(){k(bookId),t.style.display="block"}),o.addEventListener("click",function(){t.style.display="none"})});function k(e){fetch("https://books-backend.p.goit.global/books/top-books").then(o=>o.json()).then(o=>{for(const t of o){const n=t.books.find(s=>s._id===e);if(n){C(n);return}}console.error("Book not found.")}).catch(o=>console.error("Error fetching data:",o))}function C(e){const o=document.querySelector(".book_name"),t=document.querySelector(".author"),n=document.querySelector(".description"),s=document.querySelector(".img_modal"),a=document.querySelector('.links a[name="Amazon"]'),d=document.querySelector('.links a[name="Apple Books"]');if(o.textContent=e.title,t.textContent=e.author,n.textContent=e.description,s.src=e.book_image,a){const l=e.buy_links.find(i=>i.name==="Amazon");l&&(a.href=l.url)}if(d){const l=e.buy_links.find(i=>i.name==="Apple Books");l&&(d.href=l.url)}}const c=document.querySelector(".theme-switch-input"),r=document.querySelector("body"),u=document.querySelector(".menu-open-btn"),m=document.querySelector(".menu-close-btn");function p(){c.checked===!1?(r.classList.add("light-theme"),r.classList.remove("dark-theme"),localStorage.setItem("theme","light")):(r.classList.remove("light-theme"),r.classList.add("dark-theme"),localStorage.setItem("theme","dark"))}const A=localStorage.getItem("theme");A==="dark"?(c.checked=!0,p()):c.checked=!1;c.addEventListener("change",p);c.addEventListener("click",p);function h(){const e=document.querySelector("body");e.classList.contains("dark-theme")?e.style.color="white":e.style.color="black"}h();c.addEventListener("change",h);c.addEventListener("click",h);const f=document.querySelector(".header-menu");f.addEventListener("click",function(e){e.target.matches(".header-menu-link")&&(f.querySelectorAll(".header-menu-link").forEach(t=>{t.classList.remove("exception")}),e.target.classList.add("exception"))});u.addEventListener("click",()=>{mobMenu.classList.add("is-open"),u.classList.remove("is-open"),u.classList.add("hidden"),m.classList.remove("hidden")});m.addEventListener("click",()=>{mobMenu.classList.remove("is-open"),u.classList.remove("hidden"),m.classList.add("hidden")});document.querySelector(".loader");const y=document.querySelector(".scroll-btn"),b=elem.offsetTop;y.addEventListener("click",()=>{window.scrollTo({top:b,behavior:"smooth"})});window.addEventListener("scroll",()=>{(window.scrollY||window.pageYOffset)>b?y.classList.add("show-scroll-btn"):y.classList.remove("show-scroll-btn")});document.querySelector("#toggle");document.querySelector("body");document.querySelectorAll("p");document.querySelectorAll("h1");document.querySelectorAll("h2");document.querySelectorAll("h3");document.querySelectorAll("h4");document.querySelectorAll("h5");document.querySelectorAll("h6");document.querySelectorAll("a");
//# sourceMappingURL=commonHelpers.js.map
