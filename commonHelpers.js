import"./assets/header-1d09e868.js";import{a as k,i as g}from"./assets/vendor-174ee90c.js";const m=document.querySelector(".loader");function h(){m.style.display="flex"}function b(){m.style.display="none"}const L=document.querySelector(".best-books-gallery"),v=k.create({baseURL:"https://books-backend.p.goit.global/books"});async function p(){try{h();const o=await v.get("/top-books");return b(),o.data}catch{g.error({position:"topRight",message:"Sorry, no books were found. Please try again."})}}p();function B({list_name:o,books:t}){return`
    <li class="book-category-item">
      <p class="book-category">${o}</p>
      <ul class="top-books">
        ${t.map(e=>`
              <li class="book-card" data-id="${e._id}">
              <div class="book-card-hover">
                <img class="book-cover" src="${e.book_image}" alt="${e.title}"/>
                <div class="view-more">
                <p class="view-more-text">quick view</p>
                </div>
                </div>
                <div class="book-descr">
                <h2 class="book-name">${e.title}</h2>
                <h3 class="book-author">${e.author}</h3>
                </div>
              </li>
            `).join("")}
      </ul>
      <button class="book-card-btn" type="button" data-category="${o}">see more</button>
    </li>
  `}async function S(){const o=await p();let t="";for(let c of o)t+=B(c);const n=` <h1 class="collection-title">Best Sellers <span>Books</span></h1>${`<ul class="top-books-all">${t}</ul>`}`;L.innerHTML=n}S();document.addEventListener("DOMContentLoaded",function(){const o=document.getElementById("openModalBtn"),t=document.getElementById("closeModalBtn"),e=document.getElementById("myModal");o.addEventListener("click",function(){e.style.display="block",document.body.style.overflow="hidden"}),t.addEventListener("click",function(){e.style.display="none",document.body.style.overflow="auto"}),window.addEventListener("click",function(n){n.target===e&&(e.style.display="none",document.body.style.overflow="auto")}),document.addEventListener("keydown",function(n){n.key==="Escape"&&e.style.display==="block"&&(e.style.display="none",document.body.style.overflow="auto")})});document.addEventListener("DOMContentLoaded",function(){const o=document.getElementById("shoppingListBtn"),t=document.getElementById("notification"),e=document.querySelector(".modal-content");o.addEventListener("click",function(){n()});function n(){const s=openModalBtn.dataset.bookId,l=JSON.parse(localStorage.getItem("books_for_list"))||{};o.textContent==="Add to shopping list"?(c(s,l),r("Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”."),a()):(d(s,l),i(),f())}function c(s,l){l[s]=!0,localStorage.setItem("books_for_list",JSON.stringify(l)),alert("Додано до локального сховища!"),o.textContent="Remove from the shopping list"}function d(s,l){delete l[s],localStorage.setItem("books_for_list",JSON.stringify(l)),alert("Видалено з локального сховища!"),o.textContent="Add to shopping list"}function r(s){t.innerHTML=`<span>${s}</span>`,t.style.display="block"}function i(){t.style.display="none"}function a(){e.classList.add("expanded")}function f(){e.classList.remove("expanded")}});document.addEventListener("DOMContentLoaded",function(){const o=document.getElementById("openModalBtn"),t=document.getElementById("myModal");o.addEventListener("click",function(){const e=o.dataset.bookId;(JSON.parse(localStorage.getItem("books_for_list"))||{})[e]?shoppingListBtn.textContent="Remove from the shopping list":shoppingListBtn.textContent="Add to shopping list",E(e),t.style.display="block"})});function E(o){fetch("https://books-backend.p.goit.global/books/top-books").then(t=>t.json()).then(t=>{for(const e of t){const n=e.books.find(c=>c._id===o);if(n){w(n);return}}console.error("Book not found.")}).catch(t=>console.error("Error fetching data:",t))}function w(o){const t=document.querySelector(".book_name"),e=document.querySelector(".author"),n=document.querySelector(".description"),c=document.querySelector(".img_modal"),d=document.querySelector('.links a[name="Amazon"]'),r=document.querySelector('.links a[name="Apple Books"]');if(t.textContent=o.title,e.textContent=o.author,n.textContent=o.description,c.src=o.book_image,d){const i=o.buy_links.find(a=>a.name==="Amazon");i&&(d.href=i.url)}if(r){const i=o.buy_links.find(a=>a.name==="Apple Books");i&&(r.href=i.url)}}const u=document.querySelector(".scroll-btn"),q=o=>{window.scrollTo({top:o.offsetTop,behavior:"smooth"})},y=()=>{const o=document.querySelector(".collection-title");o?(u.addEventListener("click",()=>{q(o)}),window.addEventListener("scroll",()=>{(window.scrollY||window.pageYOffset)>o.offsetTop?u.classList.add("show-scroll-btn"):u.classList.remove("show-scroll-btn")})):setTimeout(y,100)};y();document.querySelector("#toggle");document.querySelector("body");document.querySelectorAll("p");document.querySelectorAll("h1");document.querySelectorAll("h2");document.querySelectorAll("h3");document.querySelectorAll("h4");document.querySelectorAll("h5");document.querySelectorAll("h6");document.querySelectorAll("a");
//# sourceMappingURL=commonHelpers.js.map
