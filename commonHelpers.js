import"./assets/modulepreload-polyfill-3cfb730f.js";import{a as M,i as C}from"./assets/vendor-174ee90c.js";const x=document.querySelector(".best-books-gallery"),I=M.create({baseURL:"https://books-backend.p.goit.global/books"});async function y(){try{return(await I.get("/top-books")).data}catch{C.error({position:"topRight",message:"Sorry, no books were found. Please try again."})}}y();function A({list_name:e,books:o}){return`
    <li class="book-category-item">
      <p class="book-category">${e}</p>
      <ul class="top-books">
        ${o.map(t=>`
              <li class="book-card" data-id="${t._id}">
              <div class="book-card-hover">
                <img class="book-cover" src="${t.book_image}" alt="${t.title}"/>
                <div class="book-descr">
                <h2 class="book-name">${t.title}</h2>
                <h3 class="book-author">${t.author}</h3>
                </div>
                <div class="view-more">
                <p class="view-more-text">Click for view more information and buy it</p>
                </div>
                </div>
              </li>
            `).join("")}
      </ul>
      <button class="book-card-btn" type="button" data-category="${e}">see more</button>
    </li>
  `}async function T(){const e=await y();let o="";for(let s of e)o+=A(s);const n=` <h1 class="collection-title">Best Sellers <span>Books</span></h1>${`<ul class="top-books-all">${o}</ul>`}`;x.innerHTML=n}T();document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("openModalBtn"),o=document.getElementById("closeModalBtn"),t=document.getElementById("myModal");e.addEventListener("click",function(){t.style.display="block",document.body.style.overflow="hidden"}),o.addEventListener("click",function(){t.style.display="none",document.body.style.overflow="auto"}),window.addEventListener("click",function(n){n.target===t&&(t.style.display="none",document.body.style.overflow="auto")}),document.addEventListener("keydown",function(n){n.key==="Escape"&&t.style.display==="block"&&(t.style.display="none",document.body.style.overflow="auto")})});document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("shoppingListBtn"),o=document.getElementById("notification"),t=document.querySelector(".modal-content");e.addEventListener("click",function(){n()});function n(){e.textContent==="Add to shopping list"?(s(),i("Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”."),l()):(a(),c(),q())}function s(){alert("Додано до локального сховища!"),e.textContent="Remove from the shopping list"}function a(){alert("Видалено з локального сховища!"),e.textContent="Add to shopping list"}function i(w){o.innerHTML=`<span>${w}</span>`,o.style.display="block"}function c(){o.style.display="none"}function l(){t.classList.add("expanded")}function q(){t.classList.remove("expanded")}});document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("openModalBtn"),o=document.getElementById("closeModalBtn"),t=document.getElementById("myModal");e=u("643282b1e85766588626a0c2"),e.addEventListener("click",function(){u(bookId),t.style.display="block"}),o.addEventListener("click",function(){t.style.display="none"})});function u(e){fetch("https://books-backend.p.goit.global/books/top-books").then(o=>o.json()).then(o=>{for(const t of o){const n=t.books.find(s=>s._id===e);if(n){$(n);return}}console.error("Book not found.")}).catch(o=>console.error("Error fetching data:",o))}function $(e){const o=document.querySelector(".book_name"),t=document.querySelector(".author"),n=document.querySelector(".description"),s=document.querySelector(".img_modal"),a=document.querySelector('.links a[name="Amazon"]'),i=document.querySelector('.links a[name="Apple Books"]');if(o.textContent=e.title,t.textContent=e.author,n.textContent=e.description,s.src=e.book_image,a){const c=e.buy_links.find(l=>l.name==="Amazon");c&&(a.href=c.url)}if(i){const c=e.buy_links.find(l=>l.name==="Apple Books");c&&(i.href=c.url)}}const r=document.querySelector(".theme-switch-input"),d=document.querySelector("body");function p(){r.checked===!1?(d.classList.add("light-theme"),d.classList.remove("dark-theme"),localStorage.setItem("theme","light")):(d.classList.remove("light-theme"),d.classList.add("dark-theme"),localStorage.setItem("theme","dark"))}const _=localStorage.getItem("theme");_==="dark"?(r.checked=!0,p()):r.checked=!1;r.addEventListener("change",p);const h=document.querySelector(".header-menu");h.addEventListener("click",function(e){e.target.matches(".header-menu-link")&&(h.querySelectorAll(".header-menu-link").forEach(t=>{t.classList.remove("exception")}),e.target.classList.add("exception"))});const k=document.querySelector("#toggle"),m=document.querySelector("body"),f=document.querySelectorAll("p"),g=document.querySelectorAll("h1"),b=document.querySelectorAll("h2"),L=document.querySelectorAll("h3"),v=document.querySelectorAll("h4"),E=document.querySelectorAll("h5"),S=document.querySelectorAll("h6"),B=document.querySelectorAll("a");localStorage.getItem("theme")==="dark"&&(m.classList.add("blackTheme"),k.checked=!0,[f,g,b,L,v,E,S,B].forEach(o=>{o.forEach(t=>{t.classList.add("newText")})}));k.addEventListener("change",function(){[f,g,b,L,v,E,S,B].forEach(o=>{o.forEach(t=>{this.checked?(t.classList.add("newText"),m.classList.add("blackTheme"),localStorage.setItem("theme","dark")):(t.classList.remove("newText"),m.classList.remove("blackTheme"),localStorage.setItem("theme","light"))})})});
//# sourceMappingURL=commonHelpers.js.map
