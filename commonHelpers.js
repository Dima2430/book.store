import"./assets/modulepreload-polyfill-3cfb730f.js";import{a as x,i as I}from"./assets/vendor-174ee90c.js";const T=document.querySelector(".best-books-gallery"),A=x.create({baseURL:"https://books-backend.p.goit.global/books"});async function y(){try{return(await A.get("/top-books")).data}catch{I.error({position:"topRight",message:"Sorry, no books were found. Please try again."})}}y();function $({list_name:e,books:o}){return`
    <li class="book-category-item">
      <p class="book-category">${e}</p>
      <ul class="top-books">
        ${o.map(t=>`
              <li class="book-card" data-id="${t._id}">
              <div class="book-card-hover">
                <img class="book-cover" src="${t.book_image}" alt="${t.title}"/>
                <div class="book-descr">
                <h2 class="book-name">${t.title}</h2>
                <h3 class="book-author">${t.author}</h3>
                </div>
                <div class="view-more">
                <p class="view-more-text">Click for view more information and buy it</p>
                </div>
                </div>
              </li>
            `).join("")}
      </ul>
      <button class="book-card-btn" type="button" data-category="${e}">see more</button>
    </li>
  `}async function _(){const e=await y();let o="";for(let s of e)o+=$(s);const n=` <h1 class="collection-title">Best Sellers <span>Books</span></h1>${`<ul class="top-books-all">${o}</ul>`}`;T.innerHTML=n}_();document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("openModalBtn"),o=document.getElementById("closeModalBtn"),t=document.getElementById("myModal");e.addEventListener("click",function(){t.style.display="block",document.body.style.overflow="hidden"}),o.addEventListener("click",function(){t.style.display="none",document.body.style.overflow="auto"}),window.addEventListener("click",function(n){n.target===t&&(t.style.display="none",document.body.style.overflow="auto")}),document.addEventListener("keydown",function(n){n.key==="Escape"&&t.style.display==="block"&&(t.style.display="none",document.body.style.overflow="auto")})});document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("shoppingListBtn"),o=document.getElementById("notification"),t=document.querySelector(".modal-content");e.addEventListener("click",function(){n()});function n(){e.textContent==="Add to shopping list"?(s(),i("Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”."),l()):(a(),c(),M())}function s(){alert("Додано до локального сховища!"),e.textContent="Remove from the shopping list"}function a(){alert("Видалено з локального сховища!"),e.textContent="Add to shopping list"}function i(C){o.innerHTML=`<span>${C}</span>`,o.style.display="block"}function c(){o.style.display="none"}function l(){t.classList.add("expanded")}function M(){t.classList.remove("expanded")}});document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("openModalBtn"),o=document.getElementById("closeModalBtn"),t=document.getElementById("myModal");e=h("643282b1e85766588626a0c2"),e.addEventListener("click",function(){h(bookId),t.style.display="block"}),o.addEventListener("click",function(){t.style.display="none"})});function h(e){fetch("https://books-backend.p.goit.global/books/top-books").then(o=>o.json()).then(o=>{for(const t of o){const n=t.books.find(s=>s._id===e);if(n){z(n);return}}console.error("Book not found.")}).catch(o=>console.error("Error fetching data:",o))}function z(e){const o=document.querySelector(".book_name"),t=document.querySelector(".author"),n=document.querySelector(".description"),s=document.querySelector(".img_modal"),a=document.querySelector('.links a[name="Amazon"]'),i=document.querySelector('.links a[name="Apple Books"]');if(o.textContent=e.title,t.textContent=e.author,n.textContent=e.description,s.src=e.book_image,a){const c=e.buy_links.find(l=>l.name==="Amazon");c&&(a.href=c.url)}if(i){const c=e.buy_links.find(l=>l.name==="Apple Books");c&&(i.href=c.url)}}const r=document.querySelector(".theme-switch-input"),d=document.querySelector("body");function k(){r.checked===!1?(d.classList.add("light-theme"),d.classList.remove("dark-theme"),localStorage.setItem("theme","light")):(d.classList.remove("light-theme"),d.classList.add("dark-theme"),localStorage.setItem("theme","dark"))}const D=localStorage.getItem("theme");D==="dark"?(r.checked=!0,k()):r.checked=!1;r.addEventListener("change",k);const p=document.querySelector(".header-menu");p.addEventListener("click",function(e){e.target.matches(".header-menu-link")&&(p.querySelectorAll(".header-menu-link").forEach(t=>{t.classList.remove("exception")}),e.target.classList.add("exception"))});document.querySelector(".loader");const m=document.querySelector(".scroll-btn"),f=elem.offsetTop;m.addEventListener("click",()=>{window.scrollTo({top:f,behavior:"smooth"})});window.addEventListener("scroll",()=>{(window.scrollY||window.pageYOffset)>f?m.classList.add("show-scroll-btn"):m.classList.remove("show-scroll-btn")});const g=document.querySelector("#toggle"),u=document.querySelector("body"),b=document.querySelectorAll("p"),L=document.querySelectorAll("h1"),v=document.querySelectorAll("h2"),E=document.querySelectorAll("h3"),S=document.querySelectorAll("h4"),B=document.querySelectorAll("h5"),w=document.querySelectorAll("h6"),q=document.querySelectorAll("a");localStorage.getItem("theme")==="dark"&&(u.classList.add("blackTheme"),g.checked=!0,[b,L,v,E,S,B,w,q].forEach(o=>{o.forEach(t=>{t.classList.add("newText")})}));g.addEventListener("change",function(){[b,L,v,E,S,B,w,q].forEach(o=>{o.forEach(t=>{this.checked?(t.classList.add("newText"),u.classList.add("blackTheme"),localStorage.setItem("theme","dark")):(t.classList.remove("newText"),u.classList.remove("blackTheme"),localStorage.setItem("theme","light"))})})});
//# sourceMappingURL=commonHelpers.js.map
