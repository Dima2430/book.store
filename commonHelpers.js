import"./assets/modulepreload-polyfill-3cfb730f.js";import{a as v,i as B}from"./assets/vendor-174ee90c.js";const S=document.querySelector(".best-books-gallery"),E=v.create({baseURL:"https://books-backend.p.goit.global/books"});async function k(){try{return(await E.get("/top-books")).data}catch{B.error({position:"topRight",message:"Sorry, no books were found. Please try again."})}}k();function q({list_name:e,books:o}){return`
    <li class="book-category-item">
      <p class="book-category">${e}</p>
      <ul class="top-books">
        ${o.map(t=>`
              <li class="book-card" data-id="${t._id}">
              <div class="book-card-hover">
                <img class="book-cover" src="${t.book_image}" alt="${t.title}"/>
                <div class="book-descr">
                <h2 class="book-name">${t.title}</h2>
                <h3 class="book-author">${t.author}</h3>
                </div>
                <div class="view-more">
                <p class="view-more-text">Click for view more information and buy it</p>
                </div>
                </div>
              </li>
            `).join("")}
      </ul>
      <button class="book-card-btn" type="button" data-category="${e}">see more</button>
    </li>
  `}async function w(){const e=await k();let o="";for(let s of e)o+=q(s);const n=` <h1 class="collection-title">Best Sellers <span>Books</span></h1>${`<ul class="top-books-all">${o}</ul>`}`;S.innerHTML=n}w();document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("openModalBtn"),o=document.getElementById("closeModalBtn"),t=document.getElementById("myModal");e.addEventListener("click",function(){t.style.display="block",document.body.style.overflow="hidden"}),o.addEventListener("click",function(){t.style.display="none",document.body.style.overflow="auto"}),window.addEventListener("click",function(n){n.target===t&&(t.style.display="none",document.body.style.overflow="auto")}),document.addEventListener("keydown",function(n){n.key==="Escape"&&t.style.display==="block"&&(t.style.display="none",document.body.style.overflow="auto")})});document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("shoppingListBtn"),o=document.getElementById("notification"),t=document.querySelector(".modal-content");e.addEventListener("click",function(){n()});function n(){e.textContent==="Add to shopping list"?(s(),a("Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”."),c()):(i(),l(),b())}function s(){alert("Додано до локального сховища!"),e.textContent="Remove from the shopping list"}function i(){alert("Видалено з локального сховища!"),e.textContent="Add to shopping list"}function a(L){o.innerHTML=`<span>${L}</span>`,o.style.display="block"}function l(){o.style.display="none"}function c(){t.classList.add("expanded")}function b(){t.classList.remove("expanded")}});document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("openModalBtn"),o=document.getElementById("closeModalBtn"),t=document.getElementById("myModal");e=y("643282b1e85766588626a0c2"),e.addEventListener("click",function(){y(bookId),t.style.display="block"}),o.addEventListener("click",function(){t.style.display="none"})});function y(e){fetch("https://books-backend.p.goit.global/books/top-books").then(o=>o.json()).then(o=>{for(const t of o){const n=t.books.find(s=>s._id===e);if(n){M(n);return}}console.error("Book not found.")}).catch(o=>console.error("Error fetching data:",o))}function M(e){const o=document.querySelector(".book_name"),t=document.querySelector(".author"),n=document.querySelector(".description"),s=document.querySelector(".img_modal"),i=document.querySelector('.links a[name="Amazon"]'),a=document.querySelector('.links a[name="Apple Books"]');if(o.textContent=e.title,t.textContent=e.author,n.textContent=e.description,s.src=e.book_image,i){const l=e.buy_links.find(c=>c.name==="Amazon");l&&(i.href=l.url)}if(a){const l=e.buy_links.find(c=>c.name==="Apple Books");l&&(a.href=l.url)}}const u=document.querySelector(".theme-switch-input"),d=document.querySelector("body"),r=document.querySelector(".menu-open-btn"),m=document.querySelector(".menu-close-btn");function f(){u.checked===!1?(d.classList.add("light-theme"),d.classList.remove("dark-theme"),localStorage.setItem("theme","light")):(d.classList.remove("light-theme"),d.classList.add("dark-theme"),localStorage.setItem("theme","dark"))}const C=localStorage.getItem("theme");C==="dark"?(u.checked=!0,f()):u.checked=!1;u.addEventListener("change",f);const h=document.querySelector(".header-menu");h.addEventListener("click",function(e){e.target.matches(".header-menu-link")&&(h.querySelectorAll(".header-menu-link").forEach(t=>{t.classList.remove("exception")}),e.target.classList.add("exception"))});r.addEventListener("click",()=>{mobMenu.classList.add("is-open"),r.classList.remove("is-open"),r.classList.add("hidden"),m.classList.remove("hidden")});m.addEventListener("click",()=>{mobMenu.classList.remove("is-open"),r.classList.remove("hidden"),m.classList.add("hidden")});document.querySelector(".loader");const p=document.querySelector(".scroll-btn"),g=elem.offsetTop;p.addEventListener("click",()=>{window.scrollTo({top:g,behavior:"smooth"})});window.addEventListener("scroll",()=>{(window.scrollY||window.pageYOffset)>g?p.classList.add("show-scroll-btn"):p.classList.remove("show-scroll-btn")});document.querySelector("#toggle");document.querySelector("body");document.querySelectorAll("p");document.querySelectorAll("h1");document.querySelectorAll("h2");document.querySelectorAll("h3");document.querySelectorAll("h4");document.querySelectorAll("h5");document.querySelectorAll("h6");document.querySelectorAll("a");
//# sourceMappingURL=commonHelpers.js.map
