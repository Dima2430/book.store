{"version":3,"file":"commonHelpers2.js","sources":["../src/img/amazon.png","../src/img/ibook.png","../src/img/white-amazon.png","../src/js/shoppingList.js"],"sourcesContent":["export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABACAMAAACZQlHRAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAACZUExURUdwTPyBEftwGf6eA/yQCv2MEfpzGP6cBfyCEP6eA/pxGf6NC/t1F/6eA/yZBvyJD/l1F/+aBv////t6FPp2Fv6bBv6dBPt4Ffx9E/2WCPpzGP2UCPpxGf2QCv6ZB/6YB/2JDfyAEvyGDv/48Pp0F/yDEP2NDP64c/2wdf7p0/7Civ2nPf7Pof/z5PyYSf7Yu/uIMv/8+fyeUd9CUewAAAASdFJOUwBc+vtcCNDPGqmrIXbsSj5Lda3s7pAAAAIASURBVFjD7Zdpc6owFIbrAgFcqkIBL8WNKyQBXPr/f9wVEjtZnaStM/dDH0bHeXN8OBOXOXl5+eVpOHPfB7ORntkM+P7c0RvGIB7Fcf94xAiMNRLPj43xPZVhAmILwESxDeDNCiArlm+WLKWN2FgaNjNxO5Yba8Q2wNaWtbAbznpr7+C/HJP1F+A/11duLcuy7omPaMzwyinmGUONUVsUqKmZqEFF0SJcs3Vz/tfBVKPVHUTfUbdS1DHWKJoVS3VLcnxlo0anyCl4xVPneV3wEb7XSoqsu8pWUKA8R0LUlqQ2V3dRCne8tVGLSVHquujZiYprVUmKnVpRahQrCwXBTEGL1YqDieLwNMWOYKagxQNBUfaXkeK4I9W8YkDFR0OFooufUBwIRoo9LVYr9pICfl9h3sWRkMpdQEmR0mJjRfV9hXEXe0Jooghp8f+vQA3GuEGsgkT9P2uRqBUpIbkpzh/9yzA8ne+K8ynso/Tj3ClosU6BSDWxwGunuFZMdEJF9FCRnvYpC+wUMGSj8PMegiJUk2AIG81ayCsWurILhBfd2oIfDhIN0eWiW0r44WCSfAF+RHEie0MkTNFuZI0rTHxTe8VUHF2Hfy0ZSpP81FYxlcd4948VruJI4lk5XOWBxAvejQk8zcls4JoJ3MGD490iCNzhQ9wgWDi/B+Hn8Q95hANPIELP4wAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAPCAYAAACiLkz/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAM9SURBVHgBvZZZSFZREIDnN0sqopWoaKcIKoIWWqiIaKftrQyKwgcjCVqwnkIlMnoIMfDFoqieEoJoscUoCCUITNMUKszUTNTUMlFT09s3nZGuN5UQdeD7z5kzc+bMWe8vgnieNwvS4Ts0wgOYYbbt8Aqi4D5Uwlnr8wLK4IyYUJ9j/euhCR7DTLNtgdcBHsEQsx+HUvgICTDK2qMthyOQARVwTnyDfvCcZFlnlQyzxZhe5XWV9wF9gfkX+WIVW/2h2SLhm9FqtnydAJwyvc6XT5L1SzG9JDDm4jB+xuPzCVJCodAaym02r/nSVWpgArw0vQAmQ67p04k1hbIYkizWFrPN1R/absFYqrOhwmw6bjtljOnLYCm0wglijvXl8DmQw9wwOteCDpSG8wXKRDOGdc1f0tWX8o3pueiVlEWdG4leYUnfsVgXzRYKxNIjp0f0LlzBdyHlTGgmRjE0UM8x35W+fk8th0LTw/8kSYA0ikxxq98s3Ut7QP/Vg98Ni7UJmoJGxtpNcRLq4BgJeZQTzdzic22wcrSvrdXKjs6GcAKuo9wjbmVXW4cD0gch1ibrmwerxK1qpNgO2HFINvdr8vcYde7icHxCNqmR1lbT25i6A5Ot3kLHJpuMyjiCjekuzx5iafs0q9cRS1drp+kTLfnTNimVWNBX6irlDyiFCFjiuRdQ74KudL70IuHiLqPKCjrqys2BanHbul982/Uf0nk21xNLd3Qe6Jkdb5PRmG1QAvXi7kEU6H05D6mQDvqsDoM4FqKaWD0OGI5DAQ4HqR8Sd+6iYYROCFuKHbHrkG19ssRt71vT9blthHL8C/HfS/2wJXhU3J3agO0mtjLq8dTLtSO6LuAOqKHtMrqegBhLPpG25MCYeT49whaiZyHgRoiQfhJiLYIn8MVzH8xsGUjR5w0ybYf6I55+pUfrRQU9Zl9loMUL/GXQr5/0QSzxrXBPn21YC89ksMRz/4WqfH8jUj3330Uv/xhdVZ9vBEyFXRAPt+En1EKC+VyCfTKYwoD6TuvnPcf7VzosyZZubO8gzv8sU4+VfpCQ9EFstZeLe6s3i3vbJ8FQcV9Lfdf1SX0u7vXK5kVpkwGQ3yEE18jhEVBdAAAAAElFTkSuQmCC\"","import axios from 'axios';\n\n\n\nconst slistGalleryEl = document.querySelector('.slist-card-section');\nconst background = document.querySelector('.slist-demo-thumb');\n\n\n// import { STORAGE_KEY } from \"./local-storage\"          //ключ\nconst STORAGE_KEY = \"local-storage-books\"; \nlet booksIDarray = [];\n\n\n//  закидаємо до ЛС обєкт \nfunction loadFromLS(key) {\n  try {\n   \n      const data = localStorage.getItem(key);\n      const result = JSON.parse(data);\n      console.log(result);\n      booksIDarray = result.map(item => item.dataId);   \n      console.log(booksIDarray);\n        return booksIDarray;\n  } catch {console.log('error');\n    showbackground(); }\n         \n};\nconst arrOfId = loadFromLS(STORAGE_KEY);\nconsole.log(booksIDarray);\n\n\nrenderImages(arrOfId);     //рендеримо розмітку\n\nasync function renderImages(array) {\n   let booksArr = [];\n  if (array === null || array.length===0 || !STORAGE_KEY) {\n    \n      showbackground(); \n      \n  } else {\n      for (const item of array) {\n          \n          \n          const currentBook = await getbook(item);\n        booksArr.push(currentBook);\n        const amazonLink = currentBook.buy_links.find(link => link.name === 'Amazon');\n        console.log(amazonLink.url);\n          // return booksArr;\n           \n      }\n           const markup = imagesTemplate(booksArr);\n            slistGalleryEl.innerHTML = markup;\n            slistGalleryEl.addEventListener('click', onBtnClick);\n    } \n};\n\n\nimport amazon from \"../img/amazon.png\";\nimport ibook from \"../img/ibook.png\";\nimport whiteAmazon from \"../img/white-amazon.png\"\n  \n\nfunction imageTemplate({ _id, book_image, title, list_name, description, author, buy_links }) {\n \n\n  let am = buy_links.map(item => item).find(link => link.name === 'Amazon')\n let apple = buy_links.map(item => item).find(link =>link.name === 'Apple Books')\n   if (localStorage.getItem('theme') === 'dark') {\n    const whiteamazon = whiteAmazon; \n    return `<div class=\"slist-card-list\">\n            <li class=\"slist-card-item\">\n              <button type=\"button\" data-id=${_id} class=\"slist-del-btn js-slist-del-btn\">\n              </button>\n              <div class=\"slist-card-picture\">\n                <img src=\"${book_image}\" class=\"slist-book-img\" alt=\"books\" />\n              </div>\n              <div class=\"slist-info-container\">\n                <h3 class=\"slist-book-header\">${title}</h3>\n                <h4 class=\"slist-book-category\">${list_name}</h4>\n                <p class=\"slist-book-description\">${description}</p>\n                <h5 class=\"slist-book-autor\">${author}</h5>\n\n                <div class=\"slist-nav\">\n                  <ul class=\"slist-nav-list\">\n                    <li class=\"slist-nav-item\">\n                      <a href=\"${am.url}\" class=\"slist-nav-link\">\n\n                      <img class=\"img-amazone logo\" src=\"${whiteamazon}\" alt=\"app\">\n                     </a>\n\n                    </li>\n\n                    <li class=\"slist-nav-item\">\n                      <a href=\"${apple.url}\" class=\"slist-nav-link\"><img class=\"img-app logo\" src=\"${ibook}\" alt=\"app\"></a>\n                      \n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </li>\n          </div>`\n  } else {\n    return `<div class=\"slist-card-list\">\n            <li class=\"slist-card-item\">\n              <button type=\"button\" data-id=${_id} class=\"slist-del-btn js-slist-del-btn\">\n              </button>\n              <div class=\"slist-card-picture\">\n                <img src=\"${book_image}\" class=\"slist-book-img\" alt=\"books\" />\n              </div>\n              <div class=\"slist-info-container\">\n                <h3 class=\"slist-book-header\">${title}</h3>\n                <h4 class=\"slist-book-category\">${list_name}</h4>\n                <p class=\"slist-book-description\">${description}</p>\n                <h5 class=\"slist-book-autor\">${author}</h5>\n\n                <div class=\"slist-nav\">\n                  <ul class=\"slist-nav-list\">\n                    <li class=\"slist-nav-item\">\n                      <a href=\"${am.url}\" class=\"slist-nav-link\">\n\n                      <img class=\"img-amazone logo\" src=\"${amazon}\" alt=\"app\">\n                     </a>\n\n                    </li>\n\n                    <li class=\"slist-nav-item\">\n                      <a href=\"${apple.url}\" class=\"slist-nav-link\"><img class=\"img-app logo\" src=\"${ibook}\" alt=\"app\"></a>\n                      \n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </li>\n          </div>`\n  }\n   };\n\n          function imagesTemplate(array) {\n  return array.map(imageTemplate).join('');\n      \n};\n\n\nfunction onBtnClick(e) {\n  if (e.target.nodeName !== 'BUTTON') return;\n  \n  const liElem = e.target.closest('li');\n  console.log(liElem);\n  const bookId = e.target.dataset.id;\n  console.log(bookId);\n\n  liElem.remove();\n  \n\n  const jsonString = localStorage.getItem(STORAGE_KEY);\n \n  let currentArray = JSON.parse(jsonString);\n \n  console.log(currentArray);\n     let newArrofLS = currentArray.splice(\n      currentArray.findIndex(item => item.dataId === bookId),\n      1\n       );\n        // масив обєктів по ЛС\n  console.log(currentArray);\n   if (currentArray.length === 0) {\n     showbackground(); \n      }\n     const updatedJsonString = JSON.stringify(currentArray);\n  localStorage.setItem(STORAGE_KEY, updatedJsonString);\n   \n}\n\n\nasync function getbook(bookId) {\n    const BASE_URL = `https://books-backend.p.goit.global/books/${bookId}`;\n    \n    try {\n        const res = await axios.get(BASE_URL);\n        return res.data;\n\n   \n    } catch (error) {\n        console.log('Результатів не знайдено.');\n    };\n\n};\n\n\nfunction showbackground() {\n  background.classList.remove('is-hidden');\n\n};\n\n\n\n\n\n\n\n"],"names":["amazon","ibook","whiteAmazon","slistGalleryEl","background","STORAGE_KEY","booksIDarray","loadFromLS","key","data","result","item","showbackground","arrOfId","renderImages","array","booksArr","currentBook","getbook","amazonLink","link","markup","imagesTemplate","onBtnClick","imageTemplate","_id","book_image","title","list_name","description","author","buy_links","am","apple","whiteamazon","e","liElem","bookId","jsonString","currentArray","updatedJsonString","BASE_URL","axios"],"mappings":"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"}