{"version":3,"file":"commonHelpers2.js","sources":["../src/js/shoppingList.js"],"sourcesContent":["\nconst slistGalleryEl = document.querySelector('.slist-card-section');\nconst background = document.querySelector('.slist-demo-thumb');\n// console.log(slistGalleryEl);\n\nlet key;                  //ключ\nlet arrOfBooks = [];       // збираємо данні localStorage в масив  \n\n\n//завантажуємо з ЛС по данним ключа і збираємо в масив обєктів\nfunction loadFromLS(key) {\n  try {\n    for (let i = 0; i < localStorage.length; i++) {\n      let key = localStorage.key(i);\n      const data = localStorage.getItem(key);\n      const result = JSON.parse(data);\n      arrOfBooks.push(result);\n \n    };\n  } catch {console.log(error);}\n         \n};\n      \n  loadFromLS();\n  \n\n\nrenderImages(arrOfBooks);     //рендеримо розмітку\n\n  \n\n\nfunction imageTemplate({ id, book_image,title,list_name,description,author,amazonURL,appleURL}) {\n  return `<div class=\"slist-card-list\">\n            <div class=\"slist-card-item\">\n              <button type=\"button\" data-id=${id} class=\"slist-del-btn js-slist-del-btn\">\n              </button>\n              <div class=\"slist-card-picture\">\n                <img src=\"${book_image}\" class=\"slist-book-img\" alt=\"books\" />\n              </div>\n              <div class=\"slist-info-container\">\n                <h3 class=\"slist-book-header\">${title}</h3>\n                <div class=\"slist-book-category\">${list_name}</div>\n                <p class=\"slist-book-description\">${description}</p>\n                <div class=\"slist-book-autor\">${author}</div>\n\n                <div class=\"slist-nav\">\n                  <ul class=\"slist-nav-list\">\n                    <li class=\"slist-nav-item\">\n                      <a href=\"${amazonURL}\" class=\"slist-nav-link\">\n\n                      <img class=\"img-amazone logo\" src=\"./img/amazon.png\" alt=\"app\">\n                     </a>\n\n                    </li>\n\n                    <li class=\"slist-nav-item\">\n                      <a href=\"${appleURL}\" class=\"slist-nav-link\"><img class=\"img-app logo\" src=\"./img/ibook.png\" alt=\"app\"></a>\n                      \n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </div>`};\n\n\n\n\nfunction imagesTemplate(array) {\n    return array.map(imageTemplate).join('');\n      \n};\n\nfunction renderImages(array) {\n   if (localStorage.length === 0) {\n    showbackground(); \n    }\n    const markup = imagesTemplate(array);\n  slistGalleryEl.innerHTML = markup;\n \n  \n   slistGalleryEl.addEventListener('click', onBtnClick); // ставимо слухача на форму \n};\n\n  function onBtnClick(e) {\n \n\n  if (e.target.nodeName === 'BUTTON') {\n    console.log(e.target.dataset.id);\n    let bookId = (e.target.dataset.id);//знаходимо по ід на кнопку повішену\n    localStorage.removeItem(e.target.dataset.id);\n    // console.log(arrOfBooks);\n   const newarr = arrOfBooks.filter(item => (item.id === bookId));\n    arrOfBooks.splice(\n      arrOfBooks.findIndex(item => item.id === bookId),\n      1\n    );\n    console.log(arrOfBooks);\n        \n    renderImages(arrOfBooks);\n    \n  };\n\n\n};\n\nfunction hidebackground() {\n    background.classList.add('is-hidden');\n};\n\n\nfunction showbackground() {\n  background.classList.remove('is-hidden');\n\n};\n\n\n\n\n\n\n\n\n//  const addedBook2 = {\n//     id: \"643282b1e85766588626a080\",\n//     book_image: \"https://storage.googleapis.com/du-prd/books/images/9781982185824.jpg\",\n//     author: \"Harlan Coben\",\n//     list_name: \"Audio Fiction\",\n//     description: \"\",\n//     title: \"FIND YOU\",\n//     amazonURL: \"https://www.amazon.com/dp/1538748363?tag=NYTBSREV-20\",\n//     appleURL: \"https://goto.applebooks.apple/9781543661385?at=10lIEQ\",\n//     };\n\n\n\n// function saveToLS(STORAGE_KEY, value) {\n//   const jsonData = JSON.stringify(value);\n//   localStorage.setItem(STORAGE_KEY, jsonData);\n// }; \n\n// function onAddBtnClick() {\n\n    \n//     STORAGE_KEY = addedBook2.id;     // дістаємо id з форми\n//     saveToLS(STORAGE_KEY, addedBook2);\n// };\n\n// saveToLS('643282b1e85766588626a080', addedBook2);\n\n\n"],"names":["slistGalleryEl","background","arrOfBooks","loadFromLS","key","i","data","result","renderImages","imageTemplate","id","book_image","title","list_name","description","author","amazonURL","appleURL","imagesTemplate","array","showbackground","markup","onBtnClick","e","bookId","item"],"mappings":"oDACA,MAAMA,EAAiB,SAAS,cAAc,qBAAqB,EAC7DC,EAAa,SAAS,cAAc,mBAAmB,EAI7D,IAAIC,EAAa,CAAA,EAIjB,SAASC,EAAWC,EAAK,CACvB,GAAI,CACF,QAASC,EAAI,EAAGA,EAAI,aAAa,OAAQA,IAAK,CAC5C,IAAID,EAAM,aAAa,IAAIC,CAAC,EAC5B,MAAMC,EAAO,aAAa,QAAQF,CAAG,EAC/BG,EAAS,KAAK,MAAMD,CAAI,EAC9BJ,EAAW,KAAKK,CAAM,CAE5B,CACG,MAAO,CAAC,QAAQ,IAAI,KAAK,CAAE,CAE9B,CAEEJ,IAIFK,EAAaN,CAAU,EAKvB,SAASO,EAAc,CAAE,GAAAC,EAAI,WAAAC,EAAW,MAAAC,EAAM,UAAAC,EAAU,YAAAC,EAAY,OAAAC,EAAO,UAAAC,EAAU,SAAAC,CAAQ,EAAG,CAC9F,MAAO;AAAA;AAAA,8CAEqCP,CAAE;AAAA;AAAA;AAAA,4BAGpBC,CAAU;AAAA;AAAA;AAAA,gDAGUC,CAAK;AAAA,mDACFC,CAAS;AAAA,oDACRC,CAAW;AAAA,gDACfC,CAAM;AAAA;AAAA;AAAA;AAAA;AAAA,iCAKrBC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAQTC,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAOxB,CAKjB,SAASC,EAAeC,EAAO,CAC3B,OAAOA,EAAM,IAAIV,CAAa,EAAE,KAAK,EAAE,CAE3C,CAEA,SAASD,EAAaW,EAAO,CACtB,aAAa,SAAW,GAC3BC,IAEA,MAAMC,EAASH,EAAeC,CAAK,EACrCnB,EAAe,UAAYqB,EAG1BrB,EAAe,iBAAiB,QAASsB,CAAU,CACtD,CAEE,SAASA,EAAWC,EAAG,CAGvB,GAAIA,EAAE,OAAO,WAAa,SAAU,CAClC,QAAQ,IAAIA,EAAE,OAAO,QAAQ,EAAE,EAC/B,IAAIC,EAAUD,EAAE,OAAO,QAAQ,GAC/B,aAAa,WAAWA,EAAE,OAAO,QAAQ,EAAE,EAE7BrB,EAAW,OAAOuB,GAASA,EAAK,KAAOD,CAAO,EAC5DtB,EAAW,OACTA,EAAW,UAAUuB,GAAQA,EAAK,KAAOD,CAAM,EAC/C,CACN,EACI,QAAQ,IAAItB,CAAU,EAEtBM,EAAaN,CAAU,CAG3B,CAEA,CAOA,SAASkB,GAAiB,CACxBnB,EAAW,UAAU,OAAO,WAAW,CAEzC"}