{"version":3,"file":"commonHelpers.js","sources":["../src/js/fetchAPI.js","../src/js/header.js","../src/js/themesToggle.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nconst bestBooksGallery = document.querySelector('.best-books-gallery');\n\nconst apiInstance = axios.create({\n  baseURL: 'https://books-backend.p.goit.global/books',\n});\nasync function getBestsellersBooks() {\n  try {\n    // loader\n    const result = await apiInstance.get('/top-books');\n    // Loader\n    return result.data;\n  } catch (error) {\n    iziToast.error({\n      position: 'topRight',\n      message: 'Sorry, no books were found. Please try again.',\n    });\n  }\n}\ngetBestsellersBooks();\n\nfunction createCategoryBooksMarkup({ list_name, books }) {\n  return `\n    <li class=\"book-category-item\">\n      <p class=\"book-category\">${list_name}</p>\n      <ul class=\"top-books bestsel-books js-list-rendering\">\n        ${books\n          .map(book => {\n            return `\n              <li class=\"book-card\" data-id=\"${book._id}\">\n              <div class=\"book-thumb\">\n                <img class=\"book-cover\" src=\"${book.book_image}\" alt=\"${book.title}\"/>\n                </div>\n                <div class=\"book-descr\">\n                <h2 class=\"book-name\">${book.title}</h2>\n                <h3 class=\"book-author\">${book.author}</h3>\n                </div>\n              </li>\n            `;\n          })\n          .join('')}\n      </ul>\n      <button class=\"book-card-btn\" type=\"button\" data-category=\"${list_name}\">see more</button>\n    </li>\n  `;\n}\n\nasync function renderBooksCategory() {\n  const topBooks = await getBestsellersBooks();\n  let booksCategories = '';\n  for (let category of topBooks) {\n    booksCategories += createCategoryBooksMarkup(category);\n  }\n  const categoriesList = `<ul class=\"top-books\">${booksCategories}</ul>`;\n  const booksHomePage = ` <h1 class=\"collection-title\">Best Sellers <span>Books</span></h1>${categoriesList}`;\n  bestBooksGallery.innerHTML = booksHomePage;\n}\nrenderBooksCategory();\n","const themeSwitch = document.querySelector('.theme-switch-input');\nconst body = document.querySelector('body');\n\n// Функція для зміни теми та збереження її в локальному сховищі\nfunction toggleTheme() {\n    if (themeSwitch.checked === false) {\n        body.classList.add('light-theme');\n        body.classList.remove('dark-theme');\n        localStorage.setItem('theme', 'light'); // Зберігаємо стан теми в локальному сховищі\n    } else {\n        body.classList.remove('light-theme');\n        body.classList.add('dark-theme');\n        localStorage.setItem('theme', 'dark'); // Зберігаємо стан теми в локальному сховищі\n    }\n}\n\n// Перевірка, яка тема встановлена за замовчуванням\nconst savedTheme = localStorage.getItem('theme');\nif (savedTheme === 'dark') {\n    themeSwitch.checked = true;\n    toggleTheme();\n} else {\n    themeSwitch.checked = false;\n}\n\n// Додавання події для перемикання теми\nthemeSwitch.addEventListener('change', toggleTheme);\n\n// функція додавання та видалення класу\n\n  const menu = document.querySelector('.header-menu');\n\n  menu.addEventListener('click', function(event) {\n    if (event.target.matches('.header-menu-link')) {\n\n      const links = menu.querySelectorAll('.header-menu-link');\n      links.forEach(link => {\n        link.classList.remove('exception');\n      });\n\n      event.target.classList.add('exception');\n    }\n  });","const checkBox = document.querySelector('#toggle');\nconst body = document.querySelector('body');\nconst p = document.querySelectorAll('p');\nconst h1 = document.querySelectorAll('h1');\nconst h2 = document.querySelectorAll('h2');\nconst h3 = document.querySelectorAll('h3');\nconst h4 = document.querySelectorAll('h4');\nconst h5 = document.querySelectorAll('h5');\nconst h6 = document.querySelectorAll('h6');\nconst a = document.querySelectorAll('a');\n\n// Load the saved theme from localStorage\nif (localStorage.getItem('theme') === 'dark') {\n    body.classList.add('blackTheme');\n    checkBox.checked = true;\n    const elements = [p, h1, h2, h3, h4, h5, h6, a];\n    elements.forEach(nodeList => {\n        nodeList.forEach(el => {\n            el.classList.add('newText');\n        });\n    });\n}\n\ncheckBox.addEventListener('change', function () {\n    const elements = [p, h1, h2, h3, h4, h5, h6, a];\n\n    elements.forEach(nodeList => {\n        nodeList.forEach(el => {\n            if (this.checked) {\n                el.classList.add('newText');\n                body.classList.add('blackTheme');\n                // Save the theme to localStorage\n                localStorage.setItem('theme', 'dark');\n            } else {\n                el.classList.remove('newText');\n                body.classList.remove('blackTheme');\n                // Save the theme to localStorage\n                localStorage.setItem('theme', 'light');\n            }\n        });\n    });\n});\n\n"],"names":["bestBooksGallery","apiInstance","axios","getBestsellersBooks","iziToast","createCategoryBooksMarkup","list_name","books","book","renderBooksCategory","topBooks","booksCategories","category","booksHomePage","themeSwitch","body","toggleTheme","savedTheme","menu","event","link","checkBox","p","h1","h2","h3","h4","h5","h6","a","nodeList","el"],"mappings":"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"}