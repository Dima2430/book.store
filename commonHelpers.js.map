{"version":3,"file":"commonHelpers.js","sources":["../src/js/fetchAPI.js","../src/js/modal_wind.js","../src/js/header.js","../src/js/loader.js","../src/js/scrollup.js","../src/js/themesToggle.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nconst bestBooksGallery = document.querySelector('.best-books-gallery');\n\nconst apiInstance = axios.create({\n  baseURL: 'https://books-backend.p.goit.global/books',\n});\nasync function getBestsellersBooks() {\n  try {\n    // loader\n    const result = await apiInstance.get('/top-books');\n    // Loader\n    return result.data;\n  } catch (error) {\n    iziToast.error({\n      position: 'topRight',\n      message: 'Sorry, no books were found. Please try again.',\n    });\n  }\n}\ngetBestsellersBooks();\n\nfunction createCategoryBooksMarkup({ list_name, books }) {\n  return `\n    <li class=\"book-category-item\">\n      <p class=\"book-category\">${list_name}</p>\n      <ul class=\"top-books\">\n        ${books\n          .map(book => {\n            return `\n              <li class=\"book-card\" data-id=\"${book._id}\">\n              <div class=\"book-card-hover\">\n                <img class=\"book-cover\" src=\"${book.book_image}\" alt=\"${book.title}\"/>\n                <div class=\"book-descr\">\n                <h2 class=\"book-name\">${book.title}</h2>\n                <h3 class=\"book-author\">${book.author}</h3>\n                </div>\n                <div class=\"view-more\">\n                <p class=\"view-more-text\">Click for view more information and buy it</p>\n                </div>\n                </div>\n              </li>\n            `;\n          })\n          .join('')}\n      </ul>\n      <button class=\"book-card-btn\" type=\"button\" data-category=\"${list_name}\">see more</button>\n    </li>\n  `;\n}\n\nasync function renderBooksCategory() {\n  const topBooks = await getBestsellersBooks();\n  let booksCategories = '';\n  for (let category of topBooks) {\n    booksCategories += createCategoryBooksMarkup(category);\n  }\n  const categoriesList = `<ul class=\"top-books-all\">${booksCategories}</ul>`;\n  const booksHomePage = ` <h1 class=\"collection-title\">Best Sellers <span>Books</span></h1>${categoriesList}`;\n  bestBooksGallery.innerHTML = booksHomePage;\n}\nrenderBooksCategory();\n","// ВЗАЄМОДІЯ ІЗ ВІКНОМ\ndocument.addEventListener('DOMContentLoaded', function () {\n    const openModalBtn = document.getElementById('openModalBtn');\n    const closeModalBtn = document.getElementById('closeModalBtn');\n    const modal = document.getElementById('myModal');\n  \n    openModalBtn.addEventListener('click', function () {\n      modal.style.display = 'block';\n      document.body.style.overflow = 'hidden';\n    });\n  \n    closeModalBtn.addEventListener('click', function () {\n      modal.style.display = 'none';\n      document.body.style.overflow = 'auto';\n    });\n  \n    window.addEventListener('click', function (event) {\n      if (event.target === modal) {\n        modal.style.display = 'none';\n        document.body.style.overflow = 'auto'; \n      }\n    });\n  \n    document.addEventListener('keydown', function (event) {\n      if (event.key === 'Escape' && modal.style.display === 'block') {\n        modal.style.display = 'none';\n        document.body.style.overflow = 'auto';\n      }\n    });\n});\n\n// РОЗШИРЕННЯ ВІКНА ПРИ ДОДАВАННІ ДО ЛОКАЛ СТОРЕДЖА\ndocument.addEventListener('DOMContentLoaded', function () {\n    const shoppingListBtn = document.getElementById('shoppingListBtn');\n    const notification = document.getElementById('notification');\n    const modalContent = document.querySelector('.modal-content');\n  \n    shoppingListBtn.addEventListener('click', function () {\n        toggleShoppingList();\n    });\n  \n    function toggleShoppingList() {\n        if (shoppingListBtn.textContent === \"Add to shopping list\") {\n            addToShoppingList();\n            showNotification('Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.');\n            expandModalContent();\n        } else {\n            removeFromShoppingList();\n            hideNotification();\n            collapseModalContent();\n        }\n    }\n  \n    function addToShoppingList() {\n        // TEST ще ніц нема\n        alert(\"Додано до локального сховища!\");\n        shoppingListBtn.textContent = \"Remove from the shopping list\";\n    }\n  \n    function removeFromShoppingList() {\n        // TEST ще ніц нема\n        alert(\"Видалено з локального сховища!\");\n        shoppingListBtn.textContent = \"Add to shopping list\";\n    }\n  \n    function showNotification(message) {\n      notification.innerHTML = `<span>${message}</span>`;\n      notification.style.display = 'block';\n    }\n  \n    function hideNotification() {\n      notification.style.display = 'none';\n    }\n    \n    function expandModalContent() {\n      modalContent.classList.add('expanded');\n    }\n    function collapseModalContent() {\n      modalContent.classList.remove('expanded');\n    }\n});\n  \n\n// ІНІЦІАЛІЗАЦІЯ ЗА id ТА ДОДАВАННЯ КОНТЕНТУ\ndocument.addEventListener('DOMContentLoaded', function () {\n    const openModalBtn = document.getElementById('openModalBtn');\n    const closeModalBtn = document.getElementById('closeModalBtn');\n    const modal = document.getElementById('myModal');\n    // test\n    openModalBtn = loadBookData('643282b1e85766588626a0c2');\n  \n    openModalBtn.addEventListener('click', function () {\n      loadBookData(bookId);\n      modal.style.display = 'block';\n    });\n  \n    closeModalBtn.addEventListener('click', function () {\n      modal.style.display = 'none';\n    });\n});\n  \nfunction loadBookData(bookId) {\n  fetch('https://books-backend.p.goit.global/books/top-books')\n    .then(response => response.json())\n    .then(data => {\n      for (const list of data) {\n        const book = list.books.find(book => book._id === bookId);\n        if (book) {\n          fillModalContent(book);\n          return; \n        }\n      }\n      console.error('Book not found.');\n    })\n    .catch(error => console.error('Error fetching data:', error));\n}\n  \nfunction fillModalContent(book) {\n    const bookNameElement = document.querySelector('.book_name');\n    const authorElement = document.querySelector('.author');\n    const descriptionElement = document.querySelector('.description');\n    const bookImageElement = document.querySelector('.img_modal');\n\n    const amazonLinkElement = document.querySelector('.links a[name=\"Amazon\"]');\n    const appleBooksLinkElement = document.querySelector('.links a[name=\"Apple Books\"]');\n  \n    bookNameElement.textContent = book.title;\n    authorElement.textContent = book.author;\n    descriptionElement.textContent = book.description;\n    bookImageElement.src = book.book_image;\n  \n    if (amazonLinkElement) {\n      const amazonLink = book.buy_links.find(link => link.name === 'Amazon');\n      if (amazonLink) {\n        amazonLinkElement.href = amazonLink.url;\n      }\n    }\n  \n    if (appleBooksLinkElement) {\n      const appleBooksLink = book.buy_links.find(link => link.name === 'Apple Books');\n      if (appleBooksLink) {\n        appleBooksLinkElement.href = appleBooksLink.url;\n      }\n    }\n}\n","const themeSwitch = document.querySelector('.theme-switch-input');\nconst body = document.querySelector('body');\nconst menuOpenButton = document.querySelector('.menu-open-btn');\nconst menuCloseButton = document.querySelector('.menu-close-btn');\n\n// Функція для зміни теми та збереження її в локальному сховищі\nfunction toggleTheme() {\n    if (themeSwitch.checked === false) {\n        body.classList.add('light-theme');\n        body.classList.remove('dark-theme');\n        localStorage.setItem('theme', 'light'); // Зберігаємо стан теми в локальному сховищі\n    } else {\n        body.classList.remove('light-theme');\n        body.classList.add('dark-theme');\n        localStorage.setItem('theme', 'dark'); // Зберігаємо стан теми в локальному сховищі\n    }\n}\n\n// Перевірка, яка тема встановлена за замовчуванням\nconst savedTheme = localStorage.getItem('theme');\nif (savedTheme === 'dark') {\n    themeSwitch.checked = true;\n    toggleTheme();\n} else {\n    themeSwitch.checked = false;\n}\n\n// Додавання події для перемикання теми\nthemeSwitch.addEventListener('change', toggleTheme);\n\n// функція додавання та видалення класу\n\n  const menu = document.querySelector('.header-menu');\n\n  menu.addEventListener('click', function(event) {\n    if (event.target.matches('.header-menu-link')) {\n\n      const links = menu.querySelectorAll('.header-menu-link');\n      links.forEach(link => {\n        link.classList.remove('exception');\n      });\n\n      event.target.classList.add('exception');\n    }\n  });\n \n\n// Відкриття меню при кліку на кнопку відкриття\n  menuOpenButton.addEventListener('click', () => {\n  mobMenu.classList.add('is-open');\n  menuOpenButton.classList.remove('is-open')\n  menuOpenButton.classList.add('hidden');\n  menuCloseButton.classList.remove('hidden');\n});\n\n// Закриття меню при кліку на кнопку закриття\n  menuCloseButton.addEventListener('click', () => {\n  mobMenu.classList.remove('is-open');\n  menuOpenButton.classList.remove('hidden');\n  menuCloseButton.classList.add('hidden');\n});","const loader = document.querySelector('.loader'); /*селектор*/\n\nexport function showLoader() {\n    loader.style.display = 'flex';\n}\n\nexport function hideLoader() {\n    loader.style.display = 'none';\n}","const scrollBtn = document.querySelector('.scroll-btn');\n/*припускається що elem - це селектор до якого буде йти скрол. Особиста думка - краще до заголовку Best Sellers*/\nconst elemTop = elem.offsetTop;\n\nscrollBtn.addEventListener('click', () => {\n    window.scrollTo({ top: elemTop, behavior: 'smooth' });\n})\n\n/*При \"доскролюванні\" вверх до елменетну кнопка ховається, при скролі нижче елементу - з'являється*/\nwindow.addEventListener('scroll', () => {\n    let scrolled = window.scrollY || window.pageYOffset;\n    if (scrolled > elemTop) {\n        scrollBtn.classList.add('show-scroll-btn')\n    } else {\n        scrollBtn.classList.remove('show-scroll-btn')\n    }\n})","const checkBox = document.querySelector('#toggle');\nconst body = document.querySelector('body');\nconst p = document.querySelectorAll('p');\nconst h1 = document.querySelectorAll('h1');\nconst h2 = document.querySelectorAll('h2');\nconst h3 = document.querySelectorAll('h3');\nconst h4 = document.querySelectorAll('h4');\nconst h5 = document.querySelectorAll('h5');\nconst h6 = document.querySelectorAll('h6');\nconst a = document.querySelectorAll('a');\n\n// Load the saved theme from localStorage\n// if (localStorage.getItem('theme') === 'dark') {\n//     body.classList.add('blackTheme');\n//     checkBox.checked = true;\n//     const elements = [p, h1, h2, h3, h4, h5, h6, a];\n//     elements.forEach(nodeList => {\n//         nodeList.forEach(el => {\n//             el.classList.add('newText');\n//         });\n//     });\n// }\n\n// checkBox.addEventListener('change', function () {\n//     const elements = [p, h1, h2, h3, h4, h5, h6, a];\n\n//     elements.forEach(nodeList => {\n//         nodeList.forEach(el => {\n//             if (this.checked) {\n//                 el.classList.add('newText');\n//                 body.classList.add('blackTheme');\n                // Save the theme to localStorage\n            //     localStorage.setItem('theme', 'dark');\n            // } else {\n            //     el.classList.remove('newText');\n            //     body.classList.remove('blackTheme');\n                // Save the theme to localStorage\n//                 localStorage.setItem('theme', 'light');\n//             }\n//         });\n//     });\n// });\n\n"],"names":["bestBooksGallery","apiInstance","axios","getBestsellersBooks","iziToast","createCategoryBooksMarkup","list_name","books","book","renderBooksCategory","topBooks","booksCategories","category","booksHomePage","openModalBtn","closeModalBtn","modal","event","shoppingListBtn","notification","modalContent","toggleShoppingList","addToShoppingList","showNotification","expandModalContent","removeFromShoppingList","hideNotification","collapseModalContent","message","loadBookData","bookId","response","data","list","fillModalContent","error","bookNameElement","authorElement","descriptionElement","bookImageElement","amazonLinkElement","appleBooksLinkElement","amazonLink","link","appleBooksLink","themeSwitch","body","menuOpenButton","menuCloseButton","toggleTheme","savedTheme","menu","scrollBtn","elemTop"],"mappings":"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"}